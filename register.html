<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daftar Akun</title>

<style>
body{
  font-family:Arial;
  background:linear-gradient(135deg,#667eea,#764ba2);
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.box{
  background:#fff;
  padding:25px;
  width:320px;
  border-radius:8px;
}
input,button{width:100%;padding:9px;margin-top:8px;}
button{background:#667eea;border:none;color:#fff;}
</style>
</head>

<body>
<div class="box">
  <h3>Daftar Akun</h3>
  <input id="user" placeholder="Username / NIS">
  <input id="pass" type="password" placeholder="Password (min 6)">
  <button onclick="register()">Daftar</button>
  <p style="text-align:center"><a href="index.html">Sudah punya akun</a></p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword } 
from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBzLuhR2fKyrPpPHEoVyvJS35RaX1pizmQ",
  authDomain: "laporan-libur.firebaseapp.com",
  projectId: "laporan-libur",
  storageBucket: "laporan-libur.firebasestorage.app",
  messagingSenderId: "867027958066",
  appId: "1:867027958066:web:93a7b424c642173f0a7f2b"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.register = function(){
  const email = user.value.trim()+"@laporan.com";
  const password = pass.value;

  if(password.length < 6){
    alert("Password minimal 6 karakter");
    return;
  }

  createUserWithEmailAndPassword(auth,email,password)
    .then(()=>{
      alert("Akun berhasil dibuat");
      location.href="index.html";
    })
    .catch(err=>alert(err.message));
}
</script>
</body>
</html>
